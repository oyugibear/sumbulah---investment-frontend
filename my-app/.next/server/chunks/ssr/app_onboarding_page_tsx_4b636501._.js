module.exports=[78917,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(45987),f=a.i(2150),g=a.i(32791);function h(a,b){}var i=a.i(6619),j=a.i(40695),k=a.i(3130),l=a.i(33441),m=a.i(44494),n=a.i(4416);function o({handleNext:a}){let{updateSettings:c,completeOnboarding:d}=(0,e.useApp)(),{t:f,language:h}=(0,g.useTranslation)();return(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,b.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,b.jsxs)(j.Button,{variant:"ghost",size:"sm",onClick:()=>c({language:"en"===h?"ar":"en"}),className:"flex items-center gap-2",children:[(0,b.jsx)(m.Globe,{className:"h-4 w-4"}),"en"===h?"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©":"English"]})}),(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)("img",{src:"/placeholder.svg?key=khgdt",alt:"Sunbullah",className:"w-12 h-12"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-50",children:f("onboarding.welcome.title",{en:"Save without feeling it",ar:"Ø§Ø³ØªØ«Ù…Ø± Ø¨ÙÙƒØ© Ø§Ù„ÙŠÙˆÙ… ÙˆØ§ØµÙ†Ø¹ Ù„Ùƒ Ø¨ÙƒØ±Ø© ØºÙŠØ±"})}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground max-w-xs mx-auto",children:f("onboarding.welcome.subtitle",{en:"Join 50,000+ Saudis growing their wealth automatically.",ar:"Ø§Ù†Ø¶Ù… Ù„Ø£ÙƒØ«Ø± Ù…Ù† 50 Ø£Ù„Ù Ø³Ø¹ÙˆØ¯ÙŠ ÙŠØ³ØªØ«Ù…Ø±ÙˆÙ† Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø´Ø±Ø¹ÙŠØ© ÙˆÙ…Ø±Ø¨Ø­Ø©"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,b.jsx)(k.Card,{className:"border-none shadow-sm bg-slate-50 dark:bg-slate-900/50",children:(0,b.jsxs)(k.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-emerald-100 dark:bg-emerald-900/50 p-2 rounded-full",children:(0,b.jsx)(n.ShieldCheck,{className:"h-6 w-6 text-emerald-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:f("onboarding.trust.regulated",{en:"Regulated & Secure",ar:"Ù…Ø±Ø®Øµ Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø®ØªØµØ©"})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:f("onboarding.trust.regulatedDesc",{en:"Operating in SAMA Sandbox & CMA FinTech Lab",ar:"Ù…Ø±Ø®Øµ Ù…Ù† Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ù†Ù‚Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ ÙˆÙ‡ÙŠØ¦Ø© Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…Ø§Ù„ÙŠØ©"})})]})]})}),(0,b.jsx)(k.Card,{className:"border-none shadow-sm bg-slate-50 dark:bg-slate-900/50",children:(0,b.jsxs)(k.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-emerald-100 dark:bg-emerald-900/50 p-2 rounded-full",children:(0,b.jsx)(l.Check,{className:"h-6 w-6 text-emerald-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-sm",children:f("onboarding.trust.shariah",{en:"100% Halal",ar:"Ø§Ø³ØªØ«Ù…Ø§Ø± Ø´Ø±Ø¹ÙŠ 100%"})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:f("onboarding.trust.shariahDesc",{en:"Certified Shariah-compliant investments",ar:"Ù…Ø¹ØªÙ…Ø¯ Ù…Ù† ÙƒØ¨Ø§Ø± Ø¹Ù„Ù…Ø§Ø¡ Ø§Ù„Ø´Ø±ÙŠØ¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©"})})]})]})})]}),(0,b.jsx)(j.Button,{className:"w-full h-12 text-lg bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-200 dark:shadow-none transition-all hover:scale-[1.02]",onClick:a,children:f("onboarding.welcome.cta")}),(0,b.jsxs)("p",{className:"text-xs text-center text-muted-foreground mt-4",children:["ar"===h?"Ø¨Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŒ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ ":"By continuing, you agree to our ",(0,b.jsx)("a",{href:"#",className:"underline hover:text-emerald-600",children:f("profile.legal.terms")})]}),(0,b.jsxs)("div",{className:"flex justify-center gap-4 opacity-50 grayscale hover:grayscale-0 transition-all mt-6",children:[(0,b.jsxs)("div",{className:"text-[10px] text-center",children:[(0,b.jsx)("div",{className:"font-bold",children:"SAMA"}),(0,b.jsx)("div",{children:"Sandbox"})]}),(0,b.jsxs)("div",{className:"text-[10px] text-center",children:[(0,b.jsx)("div",{className:"font-bold",children:"CMA"}),(0,b.jsx)("div",{children:"FinTech Lab"})]})]})]})}var p=a.i(5522),q=a.i(17171),r=a.i(89889),s=a.i(96221);function t({handleNext:a,phone:d,setPhone:e,otp:f,setOtp:h,isOtpSent:k,setIsOtpSent:l,kycData:m}){let{t:n,language:o}=(0,g.useTranslation)(),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(""),B=async()=>{u(!0),w(null);try{let a={fullName:m.fullName,nationalId:m.nationalId,dateOfBirth:m.dateOfBirth,occupation:m.occupation,monthlyIncome:m.monthlyIncome,password:m.password,phone:`+966${d}`},b=await (0,i.createUser)(a);console.log("Created user response: ",b),y(b.user._id),A(b.otp_code??""),console.log("extracted user id: ",b.user._id),localStorage.setItem("userId",b.user._id),b.token?(localStorage.setItem("authToken",b.token),console.log("âœ… Auth token stored successfully in localStorage"),console.log("Token preview:",b.token.substring(0,20)+"..."),localStorage.getItem("authToken")===b.token?console.log("âœ… Token verification successful - localStorage working correctly"):console.error("âŒ Token verification failed - localStorage issue")):(console.warn("âš ï¸ No token received in response - authentication may not work"),console.log("Full response:",b)),l(!0),setTimeout(()=>{console.log("ðŸ” Auth status after user creation:"),(0,r.debugAuthStatus)()},100)}catch(a){w(a instanceof Error?a.message:"Failed to create user account")}finally{u(!1)}};console.log("user id at render: ",x);let C=async()=>{if(!x)return void w("User ID is required for OTP verification");console.log("user id: ",x),u(!0),w(null);try{let b=await (0,i.verifyOtp)(x,f);console.log(b),b.success?a():w(b.message||"OTP verification failed")}catch(a){w(a instanceof Error?a.message:"Failed to verify OTP")}finally{u(!1)}};return(0,b.jsxs)(b.Fragment,{children:[v&&(0,b.jsx)("div",{className:"mb-4 p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:v}),k?(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-500",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:n("onboarding.phone.verifyTitle",{en:"Enter the code sent to your phone",ar:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…Ø±Ø³ÙŽÙ„ Ø¥Ù„Ù‰ Ù‡Ø§ØªÙÙƒ"})}),(0,b.jsx)("p",{className:"text-muted-foreground",children:n("onboarding.phone.verifySubtitle",{en:"Check your messages for the 4-digit code",ar:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"otp",className:"text-left block",children:n("onboarding.phone.otpLabel",{en:"Verification Code",ar:"Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚"})}),(0,b.jsx)(p.Input,{id:"otp",type:"text",placeholder:"XXXX",value:f,onChange:a=>h(a.target.value),className:"text-center text-2xl tracking-[1em] font-mono h-14",maxLength:6})]}),(0,b.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["Demo OTP: ",z]}),(0,b.jsxs)(j.Button,{className:"w-full h-12",onClick:C,disabled:f.length<4||t,children:[t&&(0,b.jsx)(s.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),n("onboarding.phone.verify",{en:"Verify Code",ar:"ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ù…Ø²"})]}),(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("button",{onClick:()=>l(!1),className:"text-sm text-emerald-600 hover:underline font-medium",children:n("onboarding.phone.changeNumber",{en:"Change Phone Number",ar:"ØªØºÙŠÙŠØ± Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"})}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground",children:[n("onboarding.phone.noCode",{en:"Didn't receive code? ",ar:"Ù„Ù… ÙŠØµÙ„Ùƒ Ø§Ù„Ø±Ù…Ø²ØŸ "}),(0,b.jsx)("button",{className:"underline hover:text-emerald-600",children:n("onboarding.phone.resend",{en:"Resend",ar:"Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„"})})]})]})]})]}):(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-500",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:n("onboarding.phone.title",{en:"Verify Your Number",ar:"ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù‚Ù…Ùƒ"})}),(0,b.jsx)("p",{className:"text-muted-foreground",children:n("onboarding.phone.subtitle",{en:"We'll send a code to verify your account",ar:"Ø³ÙˆÙ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ù„Ù„ØªØ­Ù‚Ù‘Ù‚ Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"phone",className:"text-left block",children:n("onboarding.phone.label",{en:"Phone Number",ar:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"})}),(0,b.jsxs)("div",{className:"flex gap-2",dir:"ltr",children:[(0,b.jsx)("div",{className:"flex items-center justify-center px-3 border rounded-md bg-muted text-muted-foreground text-sm font-medium",children:"+966"}),(0,b.jsx)(p.Input,{id:"phone",type:"tel",placeholder:"5X XXX XXXX",value:d,onChange:a=>e(a.target.value),className:"text-lg tracking-wide"})]})]}),(0,b.jsxs)(j.Button,{className:"w-full h-12",onClick:B,disabled:d.length<9||t,children:[t&&(0,b.jsx)(s.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),n("onboarding.phone.sendOtp",{en:"Send Verification Code",ar:"Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚"})]})]})]})]})}function u({handleNext:a,kycData:d,setKycData:e,phone:f}){let{t:h,language:i}=(0,g.useTranslation)(),[k,l]=(0,c.useState)(null),m=d.fullName&&d.nationalId&&d.dateOfBirth&&d.occupation&&d.monthlyIncome;return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-500",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:h("onboarding.kyc.title",{en:"Introduce Yourself",ar:"Ø¹Ø±ÙÙ†Ø§ Ø¹Ù„ÙŠÙƒ"})}),(0,b.jsx)("p",{className:"text-muted-foreground",children:h("onboarding.kyc.subtitle",{en:"Help us get to know you better",ar:"Ø³Ø§Ø¹Ø¯Ù†Ø§ ÙÙŠ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„ÙŠÙƒ Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"fullName",children:h("onboarding.kyc.fullName",{en:"Full Name",ar:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"})}),(0,b.jsx)(p.Input,{id:"fullName",type:"text",value:d.fullName,onChange:a=>e({...d,fullName:a.target.value}),placeholder:h("onboarding.kyc.fullNamePlaceholder",{en:"Enter your full name",ar:"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„"})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"nationalId",children:h("onboarding.kyc.nationalId",{en:"National ID",ar:"Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ©"})}),(0,b.jsx)(p.Input,{id:"nationalId",type:"text",value:d.nationalId,onChange:a=>e({...d,nationalId:a.target.value}),placeholder:"1XXXXXXXXX",maxLength:10})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"dateOfBirth",children:h("onboarding.kyc.dateOfBirth",{en:"Date of Birth",ar:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯"})}),(0,b.jsx)(p.Input,{id:"dateOfBirth",type:"date",value:d.dateOfBirth,onChange:a=>e({...d,dateOfBirth:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"occupation",children:h("onboarding.kyc.occupation",{en:"Occupation",ar:"Ø§Ù„Ù…Ù‡Ù†Ø©"})}),(0,b.jsx)(p.Input,{id:"occupation",type:"text",value:d.occupation,onChange:a=>e({...d,occupation:a.target.value}),placeholder:h("onboarding.kyc.occupationPlaceholder",{en:"Enter your occupation",ar:"Ø£Ø¯Ø®Ù„ Ù…Ù‡Ù†ØªÙƒ"})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"monthlyIncome",children:h("onboarding.kyc.monthlyIncome",{en:"Monthly Income",ar:"Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ"})}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"SAR"}),(0,b.jsx)(p.Input,{id:"monthlyIncome",type:"number",value:d.monthlyIncome,onChange:a=>e({...d,monthlyIncome:a.target.value}),placeholder:"5000",className:"pl-12"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"password",children:h("onboarding.kyc.password",{en:"Password",ar:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"})}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)(p.Input,{id:"password",type:"password",value:d.password,onChange:a=>e({...d,password:a.target.value}),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:""})})]})]}),k&&(0,b.jsx)("div",{className:"p-3 rounded-md bg-red-50 border border-red-200 text-red-700 text-sm",children:k}),(0,b.jsx)(j.Button,{className:"w-full mt-4",onClick:()=>{m&&a()},disabled:!m,children:h("continue",{en:"Continue",ar:"Ù…ØªØ§Ø¨Ø¹Ø©"})})]})}var v=a.i(50180),w=a.i(48464),x=a.i(81010),y=a.i(76472),z=a.i(56738),A=a.i(67453),B=a.i(65733);function C({handleNext:a,goal:c,setGoal:d,targetAmount:e,setTargetAmount:f,showGoalSuccess:h,setShowGoalSuccess:i,handleGoalSubmit:k,handleGoalSuccessContinue:l}){let{t:m,language:o}=(0,g.useTranslation)(),r=[{id:"emergency",icon:n.ShieldCheck,labelEn:"Emergency Fund",labelAr:"ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦"},{id:"hajj",icon:v.Plane,labelEn:"Hajj / Umrah",labelAr:"Ø§Ù„Ø­Ø¬ / Ø§Ù„Ø¹Ù…Ø±Ø©"},{id:"car",icon:w.Car,labelEn:"New Car",labelAr:"Ø³ÙŠØ§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©"},{id:"home",icon:x.Home,labelEn:"Home Purchase",labelAr:"Ø´Ø±Ø§Ø¡ Ù…Ù†Ø²Ù„"},{id:"marriage",icon:y.Heart,labelEn:"Marriage",labelAr:"Ø§Ù„Ø²ÙˆØ§Ø¬"},{id:"wealth",icon:z.Wallet,labelEn:"Build Wealth",labelAr:"Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø«Ø±ÙˆØ©"}];return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-500",children:[(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:m("onboarding.goal.title",{en:"What's Your Goal?",ar:"Ù…Ø§ Ù‡Ùˆ Ù‡Ø¯ÙÙƒØŸ"})}),(0,b.jsx)("p",{className:"text-muted-foreground",children:m("onboarding.goal.subtitle",{en:"Choose what you're saving for",ar:"Ø§Ø®ØªØ± Ù…Ø§ ØªØ¯Ø®Ø± Ù…Ù† Ø£Ø¬Ù„Ù‡"})})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4",children:r.map(a=>(0,b.jsxs)("button",{onClick:()=>d(a.id),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-3 text-center ${c===a.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 shadow-md scale-[1.02]":"border-transparent bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 shadow-sm"}`,children:[(0,b.jsx)("div",{className:`p-3 rounded-full ${c===a.id?"bg-emerald-200 dark:bg-emerald-800":"bg-slate-100 dark:bg-slate-700"}`,children:(0,b.jsx)(a.icon,{className:`h-6 w-6 ${c===a.id?"text-emerald-700 dark:text-emerald-300":"text-slate-500"}`})}),(0,b.jsx)("span",{className:"font-medium text-sm",children:"ar"===o?a.labelAr:a.labelEn})]},a.id))}),c&&(0,b.jsxs)("div",{className:"space-y-2 animate-in fade-in slide-in-from-bottom-2",children:[(0,b.jsx)(q.Label,{htmlFor:"targetAmount",children:m("onboarding.goal.targetLabel",{en:"Target Amount (SAR)",ar:"Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù (Ø±ÙŠØ§Ù„)"})}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"SAR"}),(0,b.jsx)(p.Input,{id:"targetAmount",type:"number",placeholder:"5000",value:e,onChange:a=>f(a.target.value),className:"pl-12 text-lg"})]})]}),(0,b.jsx)(j.Button,{className:"w-full mt-4",onClick:k,disabled:!c||!e,children:m("continue",{en:"Continue",ar:"Ù…ØªØ§Ø¨Ø¹Ø©"})}),(0,b.jsx)(B.Dialog,{open:h,onOpenChange:i,children:(0,b.jsxs)(B.DialogContent,{className:"sm:max-w-md text-center",children:[(0,b.jsx)("div",{className:"mx-auto w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(A.CheckCircle2,{className:"h-6 w-6 text-emerald-600"})}),(0,b.jsxs)(B.DialogHeader,{children:[(0,b.jsx)(B.DialogTitle,{className:"text-center text-xl",children:m("onboarding.goal.successTitle",{en:"Great Choice!",ar:"Ø§Ø®ØªÙŠØ§Ø± Ù…Ù…ØªØ§Ø²!"})}),(0,b.jsx)(B.DialogDescription,{className:"text-center",children:m("onboarding.goal.successDesc",{en:`You've set a goal to save ${e} SAR for your ${r.find(a=>a.id===c)?.["ar"===o?"labelAr":"labelEn"]}. Let's make it happen!`,ar:`Ù„Ù‚Ø¯ Ø­Ø¯Ø¯Øª Ù‡Ø¯ÙØ§Ù‹ Ù„Ø§Ø¯Ø®Ø§Ø± ${e} Ø±ÙŠØ§Ù„ Ù…Ù† Ø£Ø¬Ù„ ${r.find(a=>a.id===c)?.labelAr}. Ø¯Ø¹Ù†Ø§ Ù†Ø­Ù‚Ù‚Ù‡ Ù…Ø¹Ø§Ù‹!`})})]}),(0,b.jsx)(B.DialogFooter,{className:"sm:justify-center",children:(0,b.jsx)(j.Button,{onClick:l,className:"w-full sm:w-auto",children:m("onboarding.goal.successCta",{en:"Let's Start Saving!",ar:"Ù„Ù†Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø¯Ø®Ø§Ø±!"})})})]})})]})}var D=a.i(97895);function E({handleNext:a,riskProfile:d,setRiskProfile:e,currentStep:f,stepsLength:h}){let{t:m,language:n}=(0,g.useTranslation)(),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null),t=async()=>{if(d){p(!0),r(null);try{let b=localStorage.getItem("userId");b&&await (0,i.updateUserDuringOnboarding)(b,{risk_appetite:d}),a()}catch(a){r(a instanceof Error?a.message:"Failed to update risk profile"),p(!1)}}};return(0,b.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-500",children:[q&&(0,b.jsx)("div",{className:"p-3 rounded-md bg-red-50 border border-red-200 text-red-700 text-sm",children:q}),(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold mb-2",children:m("onboarding.option.title",{en:"Choose Your Risk Profile",ar:"Ø§Ø®ØªØ± Ù…Ù„Ù Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ"})}),(0,b.jsx)("p",{className:"text-muted-foreground",children:m("onboarding.option.subtitle",{en:"Select your risk level and see how your funds will be allocated",ar:"Ø­Ø¯Ø¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø®Ø§Ø·Ø±Ø© Ø§Ù„Ø°ÙŠ ÙŠÙ†Ø§Ø³Ø¨Ùƒ ÙˆØ´Ø§Ù‡Ø¯ ÙƒÙŠÙ Ø³ÙŠØªÙ… ØªÙˆØ²ÙŠØ¹ Ø£Ù…ÙˆØ§Ù„Ùƒ"})})]}),(0,b.jsxs)("div",{className:"mb-8 p-6 bg-muted/50 rounded-lg space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:m("onboarding.option.educationTitle",{en:"Understanding Your Options",ar:"ÙÙ‡Ù… Ø®ÙŠØ§Ø±Ø§ØªÙƒ"})}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-emerald-500 rounded"}),(0,b.jsx)("h4",{className:"font-semibold",children:m("onboarding.option.savingsTitle",{en:"Savings Account",ar:"Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆÙÙŠØ±"})})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:m("onboarding.option.savingsDesc",{en:"A safe, secure account with ~0.5% annual returns. Your funds are fully protected and can be withdrawn anytime. Ideal for short-term needs and emergencies.",ar:"Ø­Ø³Ø§Ø¨ Ø¢Ù…Ù† ÙˆÙ…Ø¶Ù…ÙˆÙ† Ù…Ø¹ Ø¹ÙˆØ§Ø¦Ø¯ Ø³Ù†ÙˆÙŠØ© ~0.5%. Ø£Ù…ÙˆØ§Ù„Ùƒ Ù…Ø­Ù…ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆÙŠÙ…ÙƒÙ† Ø³Ø­Ø¨Ù‡Ø§ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª. Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ù‚ØµÙŠØ±Ø© Ø§Ù„Ø£Ø¬Ù„ ÙˆØ§Ù„Ø·ÙˆØ§Ø±Ø¦."})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),(0,b.jsx)("h4",{className:"font-semibold",children:m("onboarding.option.investmentTitle",{en:"Investment Fund",ar:"ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±"})})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:m("onboarding.option.investmentDesc",{en:"Shariah-compliant investments (Sukuk) with expected ~5% annual returns. Certified by Islamic scholars and supervised by SAMA. Suitable for long-term growth.",ar:"Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§Øª Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ø´Ø±ÙŠØ¹Ø© (ØµÙƒÙˆÙƒ) Ù…Ø¹ Ø¹ÙˆØ§Ø¦Ø¯ Ù…ØªÙˆÙ‚Ø¹Ø© ~5% Ø³Ù†ÙˆÙŠØ§Ù‹. Ù…Ø¹ØªÙ…Ø¯ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¹Ù„Ù…Ø§Ø¡ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠÙŠÙ† ÙˆØªØ´Ø±Ù Ø¹Ù„ÙŠÙ‡ Ø³Ø§Ù…Ø§. Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù†Ù…Ùˆ Ø·ÙˆÙŠÙ„ Ø§Ù„Ø£Ø¬Ù„."})})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(k.Card,{className:(0,D.cn)("rounded-lg border-2 cursor-pointer transition-all","conservative"===d?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"hover:border-primary/50"),onClick:()=>e("conservative"),children:(0,b.jsx)(k.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:m("onboarding.risk.conservative",{en:"Conservative",ar:"Ù…ØªØ­ÙØ¸"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-xs text-emerald-600 font-medium",children:m("onboarding.risk.riskFree",{en:"Risk Free",ar:"Ø¨Ø¯ÙˆÙ† Ù…Ø®Ø§Ø·Ø±"})}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"}),(0,b.jsx)("div",{className:"w-8 h-2 bg-gray-200 dark:bg-gray-700 rounded"}),(0,b.jsx)("div",{className:"w-8 h-2 bg-gray-200 dark:bg-gray-700 rounded"})]})]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:m("onboarding.risk.conservativeDesc",{en:"Perfect for beginners or those prioritizing capital protection",ar:"Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† Ø£Ùˆ Ø£ÙˆÙ„Ø¦Ùƒ Ø§Ù„Ø°ÙŠÙ† ÙŠØ¹Ø·ÙˆÙ† Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© Ù„Ø­Ù…Ø§ÙŠØ© Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„"})}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:m("onboarding.risk.allocation",{en:"Allocation",ar:"Ø§Ù„ØªÙˆØ²ÙŠØ¹"})}),(0,b.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-emerald-500",style:{width:"100%"}})}),(0,b.jsx)("div",{className:"flex justify-between text-xs mt-1",children:(0,b.jsx)("span",{children:m("onboarding.risk.savingsOnly",{en:"100% Savings",ar:"ØªÙˆÙÙŠØ± 100%"})})})]})}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:m("onboarding.risk.conservativeReturn",{en:"Expected Return: ~0.5% annually",ar:"Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ~0.5% Ø³Ù†ÙˆÙŠØ§Ù‹"})})]})})}),(0,b.jsx)(k.Card,{className:(0,D.cn)("rounded-lg border-2 cursor-pointer transition-all","moderate"===d?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"hover:border-primary/50"),onClick:()=>e("moderate"),children:(0,b.jsx)(k.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:m("onboarding.risk.moderate",{en:"Moderate",ar:"Ù…ØªÙˆØ³Ø·"})}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"}),(0,b.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"}),(0,b.jsx)("div",{className:"w-8 h-2 bg-gray-200 dark:bg-gray-700 rounded"})]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:m("onboarding.risk.moderateDesc",{en:"Balanced approach with both safety and growth potential",ar:"Ù†Ù‡Ø¬ Ù…ØªÙˆØ§Ø²Ù† ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ¥Ù…ÙƒØ§Ù†Ø§Øª Ø§Ù„Ù†Ù…Ùˆ"})}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:m("onboarding.risk.allocation",{en:"Allocation",ar:"Ø§Ù„ØªÙˆØ²ÙŠØ¹"})}),(0,b.jsxs)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden flex",children:[(0,b.jsx)("div",{className:"h-full bg-emerald-500",style:{width:"50%"}}),(0,b.jsx)("div",{className:"h-full bg-yellow-500",style:{width:"50%"}})]}),(0,b.jsxs)("div",{className:"flex justify-between text-xs mt-1",children:[(0,b.jsx)("span",{children:m("onboarding.risk.moderateSavings",{en:"50% Savings",ar:"ØªÙˆÙÙŠØ± 50%"})}),(0,b.jsx)("span",{children:m("onboarding.risk.moderateInvestment",{en:"50% Investment",ar:"Ø§Ø³ØªØ«Ù…Ø§Ø± 50%"})})]})]})}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:m("onboarding.risk.moderateReturn",{en:"Expected Return: ~2.75% annually (blended)",ar:"Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ~2.75% Ø³Ù†ÙˆÙŠØ§Ù‹ (Ù…Ø²ÙŠØ¬)"})})]})})}),(0,b.jsx)(k.Card,{className:(0,D.cn)("rounded-lg border-2 cursor-pointer transition-all","growth"===d?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"hover:border-primary/50"),onClick:()=>e("growth"),children:(0,b.jsx)(k.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:m("onboarding.risk.growth",{en:"Growth",ar:"Ù†Ù…Ùˆ"})}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"}),(0,b.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"}),(0,b.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"})]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:m("onboarding.risk.growthDesc",{en:"Maximum growth potential with Shariah-compliant investments",ar:"Ø£Ù‚ØµÙ‰ Ø¥Ù…ÙƒØ§Ù†Ø§Øª Ø§Ù„Ù†Ù…Ùˆ Ù…Ø¹ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ø´Ø±ÙŠØ¹Ø©"})}),(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:m("onboarding.risk.allocation",{en:"Allocation",ar:"Ø§Ù„ØªÙˆØ²ÙŠØ¹"})}),(0,b.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-yellow-500",style:{width:"100%"}})}),(0,b.jsx)("div",{className:"flex justify-between text-xs mt-1",children:(0,b.jsx)("span",{children:m("onboarding.risk.investmentOnly",{en:"100% Investment",ar:"Ø§Ø³ØªØ«Ù…Ø§Ø± 100%"})})})]})}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,b.jsx)("span",{children:m("onboarding.risk.growthReturn",{en:"Expected Return: ~5% annually",ar:"Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ~5% Ø³Ù†ÙˆÙŠØ§Ù‹"})}),(0,b.jsx)(l.Check,{className:"h-3 w-3 text-emerald-600"}),(0,b.jsx)("span",{className:"text-emerald-600",children:m("onboarding.risk.shariahCompliant",{en:"Shariah-Compliant",ar:"Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø´Ø±ÙŠØ¹Ø©"})})]})]})})})]}),(0,b.jsxs)(j.Button,{className:"w-full h-12",onClick:t,disabled:!d||o,children:[o&&(0,b.jsx)(s.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),f===h-1?m("completeAndContinue",{en:"Complete & Continue",ar:"Ø¥ÙƒÙ…Ø§Ù„ ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø©"}):m("continue",{en:"Continue",ar:"Ù…ØªØ§Ø¨Ø¹Ø©"})]})]})}let F=[{id:"welcome",title:"welcome"},{id:"kyc",title:"kyc"},{id:"phone",title:"phone"},{id:"goal",title:"goal"},{id:"option",title:"option"}];function G(){let a=(0,d.useRouter)(),{updateSettings:j,completeOnboarding:k}=(0,e.useApp)(),{t:l,language:m}=(0,g.useTranslation)(),[n,p]=(0,c.useState)(0),[q,r]=(0,c.useState)(null),[s,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)("investment"),[A,B]=(0,c.useState)(""),[D,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)({fullName:"",nationalId:"",dateOfBirth:"",occupation:"",monthlyIncome:"",password:""}),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(null);(0,c.useEffect)(()=>{h("onboarding_start",{language:m})},[m]),(0,c.useEffect)(()=>{let a=localStorage.getItem("userId");a&&M(a)},[n]),(0,c.useEffect)(()=>{"option"===F[n].id&&window.scrollTo({top:0,behavior:"smooth"})},[n]);let P=(n+1)/F.length*100,Q=()=>{n<F.length-1?p(n+1):(h("onboarding_complete",{goal:q,investmentOption:y,riskProfile:N}),k([q||"wealth"],y),a.push("/link"))},R=async()=>{if(q&&s)try{let a=localStorage.getItem("userId");a&&await (0,i.updateUserDuringOnboarding)(a,{fiancial_goals:q,target_amount:parseInt(s)}),x(!0)}catch(a){console.error("Error updating user goals:",a),x(!0)}},S=()=>{x(!1),Q()};return(0,b.jsxs)("div",{className:"flex flex-col min-h-screen relative",children:[(0,b.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-10 bg-background pt-12 pb-4 px-4",children:[(0,b.jsx)("div",{className:"max-w-md mx-auto",children:(0,b.jsx)(f.Progress,{value:P,className:"w-full"})}),(0,b.jsx)("div",{className:"absolute top-4 right-8",children:(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[l("step")," ",n+1," ",l("of")," ",F.length]})})]}),(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center pt-24 pb-8 px-4",children:(0,b.jsx)("div",{className:"w-full max-w-md",children:(()=>{switch(F[n].id){case"welcome":return(0,b.jsx)(o,{handleNext:Q});case"kyc":return(0,b.jsx)(u,{handleNext:Q,kycData:J,setKycData:K,phone:A});case"phone":return(0,b.jsx)(t,{handleNext:Q,phone:A,setPhone:B,otp:D,setOtp:G,isOtpSent:H,setIsOtpSent:I,kycData:J});case"goal":return(0,b.jsx)(C,{handleNext:Q,goal:q,setGoal:r,targetAmount:s,setTargetAmount:v,showGoalSuccess:w,setShowGoalSuccess:x,handleGoalSubmit:R,handleGoalSuccessContinue:S});case"option":return(0,b.jsx)(E,{handleNext:Q,riskProfile:N,setRiskProfile:O,currentStep:n,stepsLength:F.length});default:return null}})()})})]})}a.s(["default",()=>G],78917)}];

//# sourceMappingURL=app_onboarding_page_tsx_4b636501._.js.map