(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48256,e=>{"use strict";let t=(0,e.i(75254).default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],48256)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},72727,e=>{"use strict";var t=e.i(15760);async function a(e){let a=await t.apiClient.post("/auth/createUser",e);if((0,t.isApiSuccess)(a))return a.data.data;throw Error(a.error||"Failed to create user")}async function r(e){let a=await t.apiClient.get(`/users/${e}`);if((0,t.isApiSuccess)(a))return a.data.data;throw Error(a.error||"Failed to fetch user")}async function s(e,a){let r=await t.apiClient.put(`/auth/updateUser/${e}`,a);if((0,t.isApiSuccess)(r))return r.data.data;throw Error(r.error||"Failed to update user during onboarding")}async function n(e,a){let r=await t.apiClient.post(`/auth/verify-otp/${e}`,{otp:a});if((0,t.isApiSuccess)(r))return r.data.data;throw Error(r.error||"Failed to verify OTP")}async function l(e){let a=await t.apiClient.get(`/users/${e}/roundup`);if((0,t.isApiSuccess)(a))return a.data.data;throw Error(a.error||"Failed to fetch roundup settings")}async function i(e,a){let r=await t.apiClient.put(`/users/${e}/roundup`,a);if((0,t.isApiSuccess)(r))return r.data.data;throw Error(r.error||"Failed to update roundup settings")}e.s(["createUser",()=>a,"getRoundupSettings",()=>l,"getUserById",()=>r,"updateRoundupSettings",()=>i,"updateUserDuringOnboarding",()=>s,"verifyOtp",()=>n])},15760,e=>{"use strict";let t={"Content-Type":"application/json",Accept:"application/json"},a=new class{baseUrl;defaultHeaders;timeout;constructor(){this.baseUrl="http://localhost:8000/api/v1",this.defaultHeaders=t,this.timeout=1e4}setAuthToken(e){this.defaultHeaders.Authorization=`Bearer ${e}`}clearAuthToken(){delete this.defaultHeaders.Authorization}async request(e,t={}){let a=`${this.baseUrl}${e}`,r=localStorage.getItem("authToken")||localStorage.getItem("token"),s={...this.defaultHeaders,...t.headers};r&&!s.Authorization&&(s.Authorization=`Bearer ${r}`),console.log("ðŸ” API Request:",{url:a,authToken:r?`${r.substring(0,20)}...`:"none"});let n={...t,headers:s,signal:AbortSignal.timeout(this.timeout)};try{let e=await fetch(a,n);if(console.log("ðŸ” API Response Status:",e.status,e.statusText),!e.ok){let t=await e.text();throw console.error("ðŸ” API Error Response:",t),Error(`HTTP ${e.status}: ${e.statusText} - ${t}`)}let t=await e.json();return console.log("ðŸ” API Response Data:",t),{data:t,success:!0,message:"Request successful"}}catch(e){throw console.error("API Request Error:",e),{data:null,success:!1,error:e instanceof Error?e.message:"Unknown error occurred"}}}async get(e,t){let a=new URL(e,this.baseUrl);return t&&Object.keys(t).forEach(e=>{void 0!==t[e]&&null!==t[e]&&a.searchParams.append(e,String(t[e]))}),this.request(a.pathname+a.search)}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):void 0})}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):void 0})}async patch(e,t){return this.request(e,{method:"PATCH",body:t?JSON.stringify(t):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}async upload(e,t,a){let r=new FormData;return r.append("file",t),a&&Object.keys(a).forEach(e=>{r.append(e,String(a[e]))}),this.request(e,{method:"POST",body:r,headers:{...Object.fromEntries(Object.entries(this.defaultHeaders).filter(([e])=>"content-type"!==e.toLowerCase()))}})}async healthCheck(){try{return(await this.get("/health")).success}catch{return!1}}getConfig(){return{baseUrl:this.baseUrl,timeout:this.timeout}}};function r(e){return!0===e.success}e.s(["apiClient",0,a,"isApiSuccess",()=>r])},67881,20783,91918,e=>{"use strict";var t=e.i(43476),a=e.i(71645);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function s(...e){return t=>{let a=!1,s=e.map(e=>{let s=r(e,t);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let t=0;t<s.length;t++){let a=s[t];"function"==typeof a?a():r(e[t],null)}}}}function n(...e){return a.useCallback(s(...e),e)}e.s(["composeRefs",()=>s,"useComposedRefs",()=>n],20783);var l=a.forwardRef((e,r)=>{let{children:s,...n}=e,l=a.Children.toArray(s),o=l.find(d);if(o){let e=o.props.children,s=l.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(i,{...n,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,t.jsx)(i,{...n,ref:r,children:s})});l.displayName="Slot";var i=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(a.isValidElement(r)){var l;let e,i,o=(l=r,(i=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(i=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref);return a.cloneElement(r,{...function(e,t){let a={...t};for(let r in t){let s=e[r],n=t[r];/^on[A-Z]/.test(r)?s&&n?a[r]=(...e)=>{n(...e),s(...e)}:s&&(a[r]=s):"style"===r?a[r]={...s,...n}:"className"===r&&(a[r]=[s,n].filter(Boolean).join(" "))}return{...e,...a}}(n,r.props),ref:t?s(t,o):o})}return a.Children.count(r)>1?a.Children.only(null):null});i.displayName="SlotClone";var o=({children:e})=>(0,t.jsx)(t.Fragment,{children:e});function d(e){return a.isValidElement(e)&&e.type===o}e.s(["Slot",()=>l,"Slottable",()=>o],91918);var c=e.i(25913),u=e.i(47163);let m=(0,c.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function h({className:e,variant:a,size:r,asChild:s=!1,...n}){let i=s?l:"button";return(0,t.jsx)(i,{"data-slot":"button",className:(0,u.cn)(m({variant:a,size:r,className:e})),...n})}e.s(["Button",()=>h],67881)},70065,e=>{"use strict";var t=e.i(43476),a=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...r})}function s({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...r})}function l({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>l,"CardHeader",()=>s,"CardTitle",()=>n])},52754,e=>{"use strict";let t=(0,e.i(75254).default)("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);e.s(["Wallet",()=>t],52754)},94351,e=>{"use strict";let t=(0,e.i(75254).default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);e.s(["Home",()=>t],94351)},23750,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(47163);let s=a.forwardRef(({className:e,type:a,...s},n)=>(0,t.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));s.displayName="Input",e.s(["Input",()=>s])},38306,e=>{"use strict";function t(){let e=localStorage.getItem("userId"),t=localStorage.getItem("authToken")||localStorage.getItem("token"),a=!!(t&&t.length>0);return{isAuthenticated:!!(e&&a),userId:e,hasValidToken:a}}function a(){return localStorage.getItem("userId")}function r(){let e=t();console.log("ðŸ” Authentication Status:",{isAuthenticated:e.isAuthenticated,userId:e.userId,hasValidToken:e.hasValidToken,tokenPreview:e.hasValidToken?(localStorage.getItem("authToken")||localStorage.getItem("token"))?.substring(0,20)+"...":"No token"})}e.s(["debugAuthStatus",()=>r,"getAuthState",()=>t,"getCurrentUserId",()=>a])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},87336,e=>{"use strict";var t=e.i(43476),a=e.i(71645);function r(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}e.i(74080);var s=Symbol.for("react.lazy"),n=a[" use ".trim().toString()];function l(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===s&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var i=Symbol("radix.slottable");function o(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{var i,d;let c,u,m,h=(d=i=`Primitive.${s}`,(c=a.forwardRef((e,t)=>{let{children:s,...i}=e;if(l(s)&&"function"==typeof n&&(s=n(s._payload)),a.isValidElement(s)){var o;let e,n,l=(o=s,(n=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(n=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),d=function(e,t){let a={...t};for(let r in t){let s=e[r],n=t[r];/^on[A-Z]/.test(r)?s&&n?a[r]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(a[r]=s):"style"===r?a[r]={...s,...n}:"className"===r&&(a[r]=[s,n].filter(Boolean).join(" "))}return{...e,...a}}(i,s.props);return s.type!==a.Fragment&&(d.ref=t?function(...e){return t=>{let a=!1,s=e.map(e=>{let s=r(e,t);return a||"function"!=typeof s||(a=!0),s});if(a)return()=>{for(let t=0;t<s.length;t++){let a=s[t];"function"==typeof a?a():r(e[t],null)}}}}(t,l):l),a.cloneElement(s,d)}return a.Children.count(s)>1?a.Children.only(null):null})).displayName=`${d}.SlotClone`,u=c,(m=a.forwardRef((e,r)=>{let{children:s,...i}=e;l(s)&&"function"==typeof n&&(s=n(s._payload));let d=a.Children.toArray(s),c=d.find(o);if(c){let e=c.props.children,s=d.map(t=>t!==c?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(u,{...i,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,s):null})}return(0,t.jsx)(u,{...i,ref:r,children:s})})).displayName=`${i}.Slot`,m),g=a.forwardRef((e,a)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?h:s,{...n,ref:a})});return g.displayName=`Primitive.${s}`,{...e,[s]:g}},{}),c="Progress",[u,m]=function(e,r=[]){let s=[],n=()=>{let t=s.map(e=>a.createContext(e));return function(r){let s=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:s}}),[r,s])}};return n.scopeName=e,[function(r,n){let l=a.createContext(n);l.displayName=r+"Context";let i=s.length;s=[...s,n];let o=r=>{let{scope:s,children:n,...o}=r,d=s?.[e]?.[i]||l,c=a.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:c,children:n})};return o.displayName=r+"Provider",[o,function(t,s){let o=s?.[e]?.[i]||l,d=a.useContext(o);if(d)return d;if(void 0!==n)return n;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=r.reduce((t,{useScope:a,scopeName:r})=>{let s=a(e)[`__scope${r}`];return{...t,...s}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}(n,...r)]}(c),[h,g]=u(c),x=a.forwardRef((e,a)=>{var r,s;let{__scopeProgress:n,value:l=null,max:i,getValueLabel:o=b,...c}=e;(i||0===i)&&!j(i)&&console.error((r=`${i}`,`Invalid prop \`max\` of value \`${r}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=j(i)?i:100;null===l||N(l,u)||console.error((s=`${l}`,`Invalid prop \`value\` of value \`${s}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=N(l,u)?l:null,g=y(m)?o(m,u):void 0;return(0,t.jsx)(h,{scope:n,value:m,max:u,children:(0,t.jsx)(d.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":y(m)?m:void 0,"aria-valuetext":g,role:"progressbar","data-state":v(m,u),"data-value":m??void 0,"data-max":u,...c,ref:a})})});x.displayName=c;var p="ProgressIndicator",f=a.forwardRef((e,a)=>{let{__scopeProgress:r,...s}=e,n=g(p,r);return(0,t.jsx)(d.div,{"data-state":v(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...s,ref:a})});function b(e,t){return`${Math.round(e/t*100)}%`}function v(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function y(e){return"number"==typeof e}function j(e){return y(e)&&!isNaN(e)&&e>0}function N(e,t){return y(e)&&!isNaN(e)&&e<=t&&e>=0}f.displayName=p;var w=e.i(47163);let k=a.forwardRef(({className:e,value:a,...r},s)=>(0,t.jsx)(x,{ref:s,className:(0,w.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:(0,t.jsx)(f,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));k.displayName=x.displayName,e.s(["Progress",()=>k],87336)},71757,5125,90597,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);e.s(["Plane",()=>a],71757);let r=(0,t.default)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);e.s(["Car",()=>r],5125);let s=(0,t.default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);e.s(["Heart",()=>s],90597)},78745,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t])},81418,e=>{"use strict";let t=(0,e.i(75254).default)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],81418)},43531,e=>{"use strict";var t=e.i(78745);e.s(["Check",()=>t.default])},23143,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(47288),n=e.i(87336),l=e.i(32243);function i(e,t){console.log("[v0] Analytics Event:",e,t)}var o=e.i(72727),d=e.i(67881),c=e.i(70065),u=e.i(43531),m=e.i(48256),h=e.i(81418);function g({handleNext:e}){let{updateSettings:a,completeOnboarding:r}=(0,s.useApp)(),{t:n,language:i}=(0,l.useTranslation)();return(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,t.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,t.jsxs)(d.Button,{variant:"ghost",size:"sm",onClick:()=>a({language:"en"===i?"ar":"en"}),className:"flex items-center gap-2",children:[(0,t.jsx)(m.Globe,{className:"h-4 w-4"}),"en"===i?"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©":"English"]})}),(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)("img",{src:"/placeholder.svg?key=khgdt",alt:"Sunbullah",className:"w-12 h-12"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-emerald-900 dark:text-emerald-50",children:n("onboarding.welcome.title",{en:"Save without feeling it",ar:"Ø§Ø³ØªØ«Ù…Ø± Ø¨ÙÙƒØ© Ø§Ù„ÙŠÙˆÙ… ÙˆØ§ØµÙ†Ø¹ Ù„Ùƒ Ø¨ÙƒØ±Ø© ØºÙŠØ±"})}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground max-w-xs mx-auto",children:n("onboarding.welcome.subtitle",{en:"Join 50,000+ Saudis growing their wealth automatically.",ar:"Ø§Ù†Ø¶Ù… Ù„Ø£ÙƒØ«Ø± Ù…Ù† 50 Ø£Ù„Ù Ø³Ø¹ÙˆØ¯ÙŠ ÙŠØ³ØªØ«Ù…Ø±ÙˆÙ† Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø´Ø±Ø¹ÙŠØ© ÙˆÙ…Ø±Ø¨Ø­Ø©"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,t.jsx)(c.Card,{className:"border-none shadow-sm bg-slate-50 dark:bg-slate-900/50",children:(0,t.jsxs)(c.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-emerald-100 dark:bg-emerald-900/50 p-2 rounded-full",children:(0,t.jsx)(h.ShieldCheck,{className:"h-6 w-6 text-emerald-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:n("onboarding.trust.regulated",{en:"Regulated & Secure",ar:"Ù…Ø±Ø®Øµ Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø®ØªØµØ©"})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:n("onboarding.trust.regulatedDesc",{en:"Operating in SAMA Sandbox & CMA FinTech Lab",ar:"Ù…Ø±Ø®Øµ Ù…Ù† Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ù†Ù‚Ø¯ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ ÙˆÙ‡ÙŠØ¦Ø© Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…Ø§Ù„ÙŠØ©"})})]})]})}),(0,t.jsx)(c.Card,{className:"border-none shadow-sm bg-slate-50 dark:bg-slate-900/50",children:(0,t.jsxs)(c.CardContent,{className:"p-4 flex items-center gap-4",children:[(0,t.jsx)("div",{className:"bg-emerald-100 dark:bg-emerald-900/50 p-2 rounded-full",children:(0,t.jsx)(u.Check,{className:"h-6 w-6 text-emerald-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-sm",children:n("onboarding.trust.shariah",{en:"100% Halal",ar:"Ø§Ø³ØªØ«Ù…Ø§Ø± Ø´Ø±Ø¹ÙŠ 100%"})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:n("onboarding.trust.shariahDesc",{en:"Certified Shariah-compliant investments",ar:"Ù…Ø¹ØªÙ…Ø¯ Ù…Ù† ÙƒØ¨Ø§Ø± Ø¹Ù„Ù…Ø§Ø¡ Ø§Ù„Ø´Ø±ÙŠØ¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©"})})]})]})})]}),(0,t.jsx)(d.Button,{className:"w-full h-12 text-lg bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-200 dark:shadow-none transition-all hover:scale-[1.02]",onClick:e,children:n("onboarding.welcome.cta")}),(0,t.jsxs)("p",{className:"text-xs text-center text-muted-foreground mt-4",children:["ar"===i?"Ø¨Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŒ Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ ":"By continuing, you agree to our ",(0,t.jsx)("a",{href:"#",className:"underline hover:text-emerald-600",children:n("profile.legal.terms")})]}),(0,t.jsxs)("div",{className:"flex justify-center gap-4 opacity-50 grayscale hover:grayscale-0 transition-all mt-6",children:[(0,t.jsxs)("div",{className:"text-[10px] text-center",children:[(0,t.jsx)("div",{className:"font-bold",children:"SAMA"}),(0,t.jsx)("div",{children:"Sandbox"})]}),(0,t.jsxs)("div",{className:"text-[10px] text-center",children:[(0,t.jsx)("div",{className:"font-bold",children:"CMA"}),(0,t.jsx)("div",{children:"FinTech Lab"})]})]})]})}var x=e.i(23750),p=e.i(10708),f=e.i(38306),b=e.i(31278);function v({handleNext:e,phone:r,setPhone:s,otp:n,setOtp:i,isOtpSent:c,setIsOtpSent:u,kycData:m}){let{t:h,language:g}=(0,l.useTranslation)(),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(null),[w,k]=(0,a.useState)(null),[C,S]=(0,a.useState)(""),A=async()=>{y(!0),N(null);try{let e={fullName:m.fullName,nationalId:m.nationalId,dateOfBirth:m.dateOfBirth,occupation:m.occupation,monthlyIncome:m.monthlyIncome,password:m.password,phone:`+966${r}`},t=await (0,o.createUser)(e);console.log("Created user response: ",t),k(t.user._id),S(t.otp_code??""),console.log("extracted user id: ",t.user._id),localStorage.setItem("userId",t.user._id),t.token?(localStorage.setItem("authToken",t.token),console.log("âœ… Auth token stored successfully in localStorage"),console.log("Token preview:",t.token.substring(0,20)+"..."),localStorage.getItem("authToken")===t.token?console.log("âœ… Token verification successful - localStorage working correctly"):console.error("âŒ Token verification failed - localStorage issue")):(console.warn("âš ï¸ No token received in response - authentication may not work"),console.log("Full response:",t)),u(!0),setTimeout(()=>{console.log("ðŸ” Auth status after user creation:"),(0,f.debugAuthStatus)()},100)}catch(e){N(e instanceof Error?e.message:"Failed to create user account")}finally{y(!1)}};console.log("user id at render: ",w);let I=async()=>{if(!w)return void N("User ID is required for OTP verification");console.log("user id: ",w),y(!0),N(null);try{let t=await (0,o.verifyOtp)(w,n);console.log(t),t.success?e():N(t.message||"OTP verification failed")}catch(e){N(e instanceof Error?e.message:"Failed to verify OTP")}finally{y(!1)}};return(0,t.jsxs)(t.Fragment,{children:[j&&(0,t.jsx)("div",{className:"mb-4 p-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded-md",children:j}),c?(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-500",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:h("onboarding.phone.verifyTitle",{en:"Enter the code sent to your phone",ar:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…Ø±Ø³ÙŽÙ„ Ø¥Ù„Ù‰ Ù‡Ø§ØªÙÙƒ"})}),(0,t.jsx)("p",{className:"text-muted-foreground",children:h("onboarding.phone.verifySubtitle",{en:"Check your messages for the 4-digit code",ar:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"otp",className:"text-left block",children:h("onboarding.phone.otpLabel",{en:"Verification Code",ar:"Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚"})}),(0,t.jsx)(x.Input,{id:"otp",type:"text",placeholder:"XXXX",value:n,onChange:e=>i(e.target.value),className:"text-center text-2xl tracking-[1em] font-mono h-14",maxLength:6})]}),(0,t.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:["Demo OTP: ",C]}),(0,t.jsxs)(d.Button,{className:"w-full h-12",onClick:I,disabled:n.length<4||v,children:[v&&(0,t.jsx)(b.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),h("onboarding.phone.verify",{en:"Verify Code",ar:"ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±Ù…Ø²"})]}),(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("button",{onClick:()=>u(!1),className:"text-sm text-emerald-600 hover:underline font-medium",children:h("onboarding.phone.changeNumber",{en:"Change Phone Number",ar:"ØªØºÙŠÙŠØ± Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"})}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[h("onboarding.phone.noCode",{en:"Didn't receive code? ",ar:"Ù„Ù… ÙŠØµÙ„Ùƒ Ø§Ù„Ø±Ù…Ø²ØŸ "}),(0,t.jsx)("button",{className:"underline hover:text-emerald-600",children:h("onboarding.phone.resend",{en:"Resend",ar:"Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø±Ø³Ø§Ù„"})})]})]})]})]}):(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-500",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:h("onboarding.phone.title",{en:"Verify Your Number",ar:"ØªØ­Ù‚Ù‚ Ù…Ù† Ø±Ù‚Ù…Ùƒ"})}),(0,t.jsx)("p",{className:"text-muted-foreground",children:h("onboarding.phone.subtitle",{en:"We'll send a code to verify your account",ar:"Ø³ÙˆÙ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚ Ù„Ù„ØªØ­Ù‚Ù‘Ù‚ Ù…Ù† Ø­Ø³Ø§Ø¨Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"phone",className:"text-left block",children:h("onboarding.phone.label",{en:"Phone Number",ar:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"})}),(0,t.jsxs)("div",{className:"flex gap-2",dir:"ltr",children:[(0,t.jsx)("div",{className:"flex items-center justify-center px-3 border rounded-md bg-muted text-muted-foreground text-sm font-medium",children:"+966"}),(0,t.jsx)(x.Input,{id:"phone",type:"tel",placeholder:"5X XXX XXXX",value:r,onChange:e=>s(e.target.value),className:"text-lg tracking-wide"})]})]}),(0,t.jsxs)(d.Button,{className:"w-full h-12",onClick:A,disabled:r.length<9||v,children:[v&&(0,t.jsx)(b.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),h("onboarding.phone.sendOtp",{en:"Send Verification Code",ar:"Ø¥Ø±Ø³Ø§Ù„ Ø±Ù…Ø² Ø§Ù„ØªØ­Ù‚Ù‚"})]})]})]})]})}function y({handleNext:e,kycData:r,setKycData:s,phone:n}){let{t:i,language:o}=(0,l.useTranslation)(),[c,u]=(0,a.useState)(null),m=r.fullName&&r.nationalId&&r.dateOfBirth&&r.occupation&&r.monthlyIncome;return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-500",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:i("onboarding.kyc.title",{en:"Introduce Yourself",ar:"Ø¹Ø±ÙÙ†Ø§ Ø¹Ù„ÙŠÙƒ"})}),(0,t.jsx)("p",{className:"text-muted-foreground",children:i("onboarding.kyc.subtitle",{en:"Help us get to know you better",ar:"Ø³Ø§Ø¹Ø¯Ù†Ø§ ÙÙŠ Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„ÙŠÙƒ Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"fullName",children:i("onboarding.kyc.fullName",{en:"Full Name",ar:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"})}),(0,t.jsx)(x.Input,{id:"fullName",type:"text",value:r.fullName,onChange:e=>s({...r,fullName:e.target.value}),placeholder:i("onboarding.kyc.fullNamePlaceholder",{en:"Enter your full name",ar:"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"nationalId",children:i("onboarding.kyc.nationalId",{en:"National ID",ar:"Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„ÙˆØ·Ù†ÙŠØ©"})}),(0,t.jsx)(x.Input,{id:"nationalId",type:"text",value:r.nationalId,onChange:e=>s({...r,nationalId:e.target.value}),placeholder:"1XXXXXXXXX",maxLength:10})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"dateOfBirth",children:i("onboarding.kyc.dateOfBirth",{en:"Date of Birth",ar:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯"})}),(0,t.jsx)(x.Input,{id:"dateOfBirth",type:"date",value:r.dateOfBirth,onChange:e=>s({...r,dateOfBirth:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"occupation",children:i("onboarding.kyc.occupation",{en:"Occupation",ar:"Ø§Ù„Ù…Ù‡Ù†Ø©"})}),(0,t.jsx)(x.Input,{id:"occupation",type:"text",value:r.occupation,onChange:e=>s({...r,occupation:e.target.value}),placeholder:i("onboarding.kyc.occupationPlaceholder",{en:"Enter your occupation",ar:"Ø£Ø¯Ø®Ù„ Ù…Ù‡Ù†ØªÙƒ"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"monthlyIncome",children:i("onboarding.kyc.monthlyIncome",{en:"Monthly Income",ar:"Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"SAR"}),(0,t.jsx)(x.Input,{id:"monthlyIncome",type:"number",value:r.monthlyIncome,onChange:e=>s({...r,monthlyIncome:e.target.value}),placeholder:"5000",className:"pl-12"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"password",children:i("onboarding.kyc.password",{en:"Password",ar:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"})}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(x.Input,{id:"password",type:"password",value:r.password,onChange:e=>s({...r,password:e.target.value}),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:""})})]})]}),c&&(0,t.jsx)("div",{className:"p-3 rounded-md bg-red-50 border border-red-200 text-red-700 text-sm",children:c}),(0,t.jsx)(d.Button,{className:"w-full mt-4",onClick:()=>{m&&e()},disabled:!m,children:i("continue",{en:"Continue",ar:"Ù…ØªØ§Ø¨Ø¹Ø©"})})]})}var j=e.i(71757),N=e.i(5125),w=e.i(94351),k=e.i(90597),C=e.i(52754),S=e.i(95468),A=e.i(30374);function I({handleNext:e,goal:a,setGoal:r,targetAmount:s,setTargetAmount:n,showGoalSuccess:i,setShowGoalSuccess:o,handleGoalSubmit:c,handleGoalSuccessContinue:u}){let{t:m,language:g}=(0,l.useTranslation)(),f=[{id:"emergency",icon:h.ShieldCheck,labelEn:"Emergency Fund",labelAr:"ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦"},{id:"hajj",icon:j.Plane,labelEn:"Hajj / Umrah",labelAr:"Ø§Ù„Ø­Ø¬ / Ø§Ù„Ø¹Ù…Ø±Ø©"},{id:"car",icon:N.Car,labelEn:"New Car",labelAr:"Ø³ÙŠØ§Ø±Ø© Ø¬Ø¯ÙŠØ¯Ø©"},{id:"home",icon:w.Home,labelEn:"Home Purchase",labelAr:"Ø´Ø±Ø§Ø¡ Ù…Ù†Ø²Ù„"},{id:"marriage",icon:k.Heart,labelEn:"Marriage",labelAr:"Ø§Ù„Ø²ÙˆØ§Ø¬"},{id:"wealth",icon:C.Wallet,labelEn:"Build Wealth",labelAr:"Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø«Ø±ÙˆØ©"}];return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-500",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:m("onboarding.goal.title",{en:"What's Your Goal?",ar:"Ù…Ø§ Ù‡Ùˆ Ù‡Ø¯ÙÙƒØŸ"})}),(0,t.jsx)("p",{className:"text-muted-foreground",children:m("onboarding.goal.subtitle",{en:"Choose what you're saving for",ar:"Ø§Ø®ØªØ± Ù…Ø§ ØªØ¯Ø®Ø± Ù…Ù† Ø£Ø¬Ù„Ù‡"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:f.map(e=>(0,t.jsxs)("button",{onClick:()=>r(e.id),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-3 text-center ${a===e.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 shadow-md scale-[1.02]":"border-transparent bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 shadow-sm"}`,children:[(0,t.jsx)("div",{className:`p-3 rounded-full ${a===e.id?"bg-emerald-200 dark:bg-emerald-800":"bg-slate-100 dark:bg-slate-700"}`,children:(0,t.jsx)(e.icon,{className:`h-6 w-6 ${a===e.id?"text-emerald-700 dark:text-emerald-300":"text-slate-500"}`})}),(0,t.jsx)("span",{className:"font-medium text-sm",children:"ar"===g?e.labelAr:e.labelEn})]},e.id))}),a&&(0,t.jsxs)("div",{className:"space-y-2 animate-in fade-in slide-in-from-bottom-2",children:[(0,t.jsx)(p.Label,{htmlFor:"targetAmount",children:m("onboarding.goal.targetLabel",{en:"Target Amount (SAR)",ar:"Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù (Ø±ÙŠØ§Ù„)"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"SAR"}),(0,t.jsx)(x.Input,{id:"targetAmount",type:"number",placeholder:"5000",value:s,onChange:e=>n(e.target.value),className:"pl-12 text-lg"})]})]}),(0,t.jsx)(d.Button,{className:"w-full mt-4",onClick:c,disabled:!a||!s,children:m("continue",{en:"Continue",ar:"Ù…ØªØ§Ø¨Ø¹Ø©"})}),(0,t.jsx)(A.Dialog,{open:i,onOpenChange:o,children:(0,t.jsxs)(A.DialogContent,{className:"sm:max-w-md text-center",children:[(0,t.jsx)("div",{className:"mx-auto w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(S.CheckCircle2,{className:"h-6 w-6 text-emerald-600"})}),(0,t.jsxs)(A.DialogHeader,{children:[(0,t.jsx)(A.DialogTitle,{className:"text-center text-xl",children:m("onboarding.goal.successTitle",{en:"Great Choice!",ar:"Ø§Ø®ØªÙŠØ§Ø± Ù…Ù…ØªØ§Ø²!"})}),(0,t.jsx)(A.DialogDescription,{className:"text-center",children:m("onboarding.goal.successDesc",{en:`You've set a goal to save ${s} SAR for your ${f.find(e=>e.id===a)?.["ar"===g?"labelAr":"labelEn"]}. Let's make it happen!`,ar:`Ù„Ù‚Ø¯ Ø­Ø¯Ø¯Øª Ù‡Ø¯ÙØ§Ù‹ Ù„Ø§Ø¯Ø®Ø§Ø± ${s} Ø±ÙŠØ§Ù„ Ù…Ù† Ø£Ø¬Ù„ ${f.find(e=>e.id===a)?.labelAr}. Ø¯Ø¹Ù†Ø§ Ù†Ø­Ù‚Ù‚Ù‡ Ù…Ø¹Ø§Ù‹!`})})]}),(0,t.jsx)(A.DialogFooter,{className:"sm:justify-center",children:(0,t.jsx)(d.Button,{onClick:u,className:"w-full sm:w-auto",children:m("onboarding.goal.successCta",{en:"Let's Start Saving!",ar:"Ù„Ù†Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø¯Ø®Ø§Ø±!"})})})]})})]})}var E=e.i(47163);function T({handleNext:e,riskProfile:r,setRiskProfile:s,currentStep:n,stepsLength:i}){let{t:m,language:h}=(0,l.useTranslation)(),[g,x]=(0,a.useState)(!1),[p,f]=(0,a.useState)(null),v=async()=>{if(r){x(!0),f(null);try{let t=localStorage.getItem("userId");t&&await (0,o.updateUserDuringOnboarding)(t,{risk_appetite:r}),e()}catch(e){f(e instanceof Error?e.message:"Failed to update risk profile"),x(!1)}}};return(0,t.jsxs)("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-8 duration-500",children:[p&&(0,t.jsx)("div",{className:"p-3 rounded-md bg-red-50 border border-red-200 text-red-700 text-sm",children:p}),(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold mb-2",children:m("onboarding.option.title",{en:"Choose Your Risk Profile",ar:"Ø§Ø®ØªØ± Ù…Ù„Ù Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ"})}),(0,t.jsx)("p",{className:"text-muted-foreground",children:m("onboarding.option.subtitle",{en:"Select your risk level and see how your funds will be allocated",ar:"Ø­Ø¯Ø¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø®Ø§Ø·Ø±Ø© Ø§Ù„Ø°ÙŠ ÙŠÙ†Ø§Ø³Ø¨Ùƒ ÙˆØ´Ø§Ù‡Ø¯ ÙƒÙŠÙ Ø³ÙŠØªÙ… ØªÙˆØ²ÙŠØ¹ Ø£Ù…ÙˆØ§Ù„Ùƒ"})})]}),(0,t.jsxs)("div",{className:"mb-8 p-6 bg-muted/50 rounded-lg space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:m("onboarding.option.educationTitle",{en:"Understanding Your Options",ar:"ÙÙ‡Ù… Ø®ÙŠØ§Ø±Ø§ØªÙƒ"})}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-emerald-500 rounded"}),(0,t.jsx)("h4",{className:"font-semibold",children:m("onboarding.option.savingsTitle",{en:"Savings Account",ar:"Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆÙÙŠØ±"})})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:m("onboarding.option.savingsDesc",{en:"A safe, secure account with ~0.5% annual returns. Your funds are fully protected and can be withdrawn anytime. Ideal for short-term needs and emergencies.",ar:"Ø­Ø³Ø§Ø¨ Ø¢Ù…Ù† ÙˆÙ…Ø¶Ù…ÙˆÙ† Ù…Ø¹ Ø¹ÙˆØ§Ø¦Ø¯ Ø³Ù†ÙˆÙŠØ© ~0.5%. Ø£Ù…ÙˆØ§Ù„Ùƒ Ù…Ø­Ù…ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆÙŠÙ…ÙƒÙ† Ø³Ø­Ø¨Ù‡Ø§ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª. Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ù‚ØµÙŠØ±Ø© Ø§Ù„Ø£Ø¬Ù„ ÙˆØ§Ù„Ø·ÙˆØ§Ø±Ø¦."})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),(0,t.jsx)("h4",{className:"font-semibold",children:m("onboarding.option.investmentTitle",{en:"Investment Fund",ar:"ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±"})})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:m("onboarding.option.investmentDesc",{en:"Shariah-compliant investments (Sukuk) with expected ~5% annual returns. Certified by Islamic scholars and supervised by SAMA. Suitable for long-term growth.",ar:"Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§Øª Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ø´Ø±ÙŠØ¹Ø© (ØµÙƒÙˆÙƒ) Ù…Ø¹ Ø¹ÙˆØ§Ø¦Ø¯ Ù…ØªÙˆÙ‚Ø¹Ø© ~5% Ø³Ù†ÙˆÙŠØ§Ù‹. Ù…Ø¹ØªÙ…Ø¯ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¹Ù„Ù…Ø§Ø¡ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠÙŠÙ† ÙˆØªØ´Ø±Ù Ø¹Ù„ÙŠÙ‡ Ø³Ø§Ù…Ø§. Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù†Ù…Ùˆ Ø·ÙˆÙŠÙ„ Ø§Ù„Ø£Ø¬Ù„."})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(c.Card,{className:(0,E.cn)("rounded-lg border-2 cursor-pointer transition-all","conservative"===r?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"hover:border-primary/50"),onClick:()=>s("conservative"),children:(0,t.jsx)(c.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:m("onboarding.risk.conservative",{en:"Conservative",ar:"Ù…ØªØ­ÙØ¸"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-emerald-600 font-medium",children:m("onboarding.risk.riskFree",{en:"Risk Free",ar:"Ø¨Ø¯ÙˆÙ† Ù…Ø®Ø§Ø·Ø±"})}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"}),(0,t.jsx)("div",{className:"w-8 h-2 bg-gray-200 dark:bg-gray-700 rounded"}),(0,t.jsx)("div",{className:"w-8 h-2 bg-gray-200 dark:bg-gray-700 rounded"})]})]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:m("onboarding.risk.conservativeDesc",{en:"Perfect for beginners or those prioritizing capital protection",ar:"Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† Ø£Ùˆ Ø£ÙˆÙ„Ø¦Ùƒ Ø§Ù„Ø°ÙŠÙ† ÙŠØ¹Ø·ÙˆÙ† Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© Ù„Ø­Ù…Ø§ÙŠØ© Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„"})}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:m("onboarding.risk.allocation",{en:"Allocation",ar:"Ø§Ù„ØªÙˆØ²ÙŠØ¹"})}),(0,t.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-emerald-500",style:{width:"100%"}})}),(0,t.jsx)("div",{className:"flex justify-between text-xs mt-1",children:(0,t.jsx)("span",{children:m("onboarding.risk.savingsOnly",{en:"100% Savings",ar:"ØªÙˆÙÙŠØ± 100%"})})})]})}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:m("onboarding.risk.conservativeReturn",{en:"Expected Return: ~0.5% annually",ar:"Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ~0.5% Ø³Ù†ÙˆÙŠØ§Ù‹"})})]})})}),(0,t.jsx)(c.Card,{className:(0,E.cn)("rounded-lg border-2 cursor-pointer transition-all","moderate"===r?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"hover:border-primary/50"),onClick:()=>s("moderate"),children:(0,t.jsx)(c.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:m("onboarding.risk.moderate",{en:"Moderate",ar:"Ù…ØªÙˆØ³Ø·"})}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"}),(0,t.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"}),(0,t.jsx)("div",{className:"w-8 h-2 bg-gray-200 dark:bg-gray-700 rounded"})]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:m("onboarding.risk.moderateDesc",{en:"Balanced approach with both safety and growth potential",ar:"Ù†Ù‡Ø¬ Ù…ØªÙˆØ§Ø²Ù† ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ¥Ù…ÙƒØ§Ù†Ø§Øª Ø§Ù„Ù†Ù…Ùˆ"})}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:m("onboarding.risk.allocation",{en:"Allocation",ar:"Ø§Ù„ØªÙˆØ²ÙŠØ¹"})}),(0,t.jsxs)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden flex",children:[(0,t.jsx)("div",{className:"h-full bg-emerald-500",style:{width:"50%"}}),(0,t.jsx)("div",{className:"h-full bg-yellow-500",style:{width:"50%"}})]}),(0,t.jsxs)("div",{className:"flex justify-between text-xs mt-1",children:[(0,t.jsx)("span",{children:m("onboarding.risk.moderateSavings",{en:"50% Savings",ar:"ØªÙˆÙÙŠØ± 50%"})}),(0,t.jsx)("span",{children:m("onboarding.risk.moderateInvestment",{en:"50% Investment",ar:"Ø§Ø³ØªØ«Ù…Ø§Ø± 50%"})})]})]})}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:m("onboarding.risk.moderateReturn",{en:"Expected Return: ~2.75% annually (blended)",ar:"Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ~2.75% Ø³Ù†ÙˆÙŠØ§Ù‹ (Ù…Ø²ÙŠØ¬)"})})]})})}),(0,t.jsx)(c.Card,{className:(0,E.cn)("rounded-lg border-2 cursor-pointer transition-all","growth"===r?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20":"hover:border-primary/50"),onClick:()=>s("growth"),children:(0,t.jsx)(c.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:m("onboarding.risk.growth",{en:"Growth",ar:"Ù†Ù…Ùˆ"})}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"}),(0,t.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"}),(0,t.jsx)("div",{className:"w-8 h-2 bg-emerald-500 rounded"})]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:m("onboarding.risk.growthDesc",{en:"Maximum growth potential with Shariah-compliant investments",ar:"Ø£Ù‚ØµÙ‰ Ø¥Ù…ÙƒØ§Ù†Ø§Øª Ø§Ù„Ù†Ù…Ùˆ Ù…Ø¹ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Ø§Ù„Ø´Ø±ÙŠØ¹Ø©"})}),(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:m("onboarding.risk.allocation",{en:"Allocation",ar:"Ø§Ù„ØªÙˆØ²ÙŠØ¹"})}),(0,t.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-yellow-500",style:{width:"100%"}})}),(0,t.jsx)("div",{className:"flex justify-between text-xs mt-1",children:(0,t.jsx)("span",{children:m("onboarding.risk.investmentOnly",{en:"100% Investment",ar:"Ø§Ø³ØªØ«Ù…Ø§Ø± 100%"})})})]})}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)("span",{children:m("onboarding.risk.growthReturn",{en:"Expected Return: ~5% annually",ar:"Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹: ~5% Ø³Ù†ÙˆÙŠØ§Ù‹"})}),(0,t.jsx)(u.Check,{className:"h-3 w-3 text-emerald-600"}),(0,t.jsx)("span",{className:"text-emerald-600",children:m("onboarding.risk.shariahCompliant",{en:"Shariah-Compliant",ar:"Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø´Ø±ÙŠØ¹Ø©"})})]})]})})})]}),(0,t.jsxs)(d.Button,{className:"w-full h-12",onClick:v,disabled:!r||g,children:[g&&(0,t.jsx)(b.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),n===i-1?m("completeAndContinue",{en:"Complete & Continue",ar:"Ø¥ÙƒÙ…Ø§Ù„ ÙˆØ§Ù„Ù…ØªØ§Ø¨Ø¹Ø©"}):m("continue",{en:"Continue",ar:"Ù…ØªØ§Ø¨Ø¹Ø©"})]})]})}let O=[{id:"welcome",title:"welcome"},{id:"kyc",title:"kyc"},{id:"phone",title:"phone"},{id:"goal",title:"goal"},{id:"option",title:"option"}];function P(){let e=(0,r.useRouter)(),{updateSettings:d,completeOnboarding:c}=(0,s.useApp)(),{t:u,language:m}=(0,l.useTranslation)(),[h,x]=(0,a.useState)(0),[p,f]=(0,a.useState)(null),[b,j]=(0,a.useState)(""),[N,w]=(0,a.useState)(!1),[k,C]=(0,a.useState)("investment"),[S,A]=(0,a.useState)(""),[E,P]=(0,a.useState)(""),[R,$]=(0,a.useState)(!1),[D,F]=(0,a.useState)({fullName:"",nationalId:"",dateOfBirth:"",occupation:"",monthlyIncome:"",password:""}),[B,L]=(0,a.useState)(null),[_,M]=(0,a.useState)(null);(0,a.useEffect)(()=>{i("onboarding_start",{language:m})},[m]),(0,a.useEffect)(()=>{let e=localStorage.getItem("userId");e&&L(e)},[h]),(0,a.useEffect)(()=>{"option"===O[h].id&&window.scrollTo({top:0,behavior:"smooth"})},[h]);let H=(h+1)/O.length*100,z=()=>{h<O.length-1?x(h+1):(i("onboarding_complete",{goal:p,investmentOption:k,riskProfile:_}),c([p||"wealth"],k),e.push("/link"))},U=async()=>{if(p&&b)try{let e=localStorage.getItem("userId");e&&await (0,o.updateUserDuringOnboarding)(e,{fiancial_goals:p,target_amount:parseInt(b)}),w(!0)}catch(e){console.error("Error updating user goals:",e),w(!0)}},X=()=>{w(!1),z()};return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen relative",children:[(0,t.jsxs)("div",{className:"fixed top-0 left-0 right-0 z-10 bg-background pt-12 pb-4 px-4",children:[(0,t.jsx)("div",{className:"max-w-md mx-auto",children:(0,t.jsx)(n.Progress,{value:H,className:"w-full"})}),(0,t.jsx)("div",{className:"absolute top-4 right-8",children:(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[u("step")," ",h+1," ",u("of")," ",O.length]})})]}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center pt-24 pb-8 px-4",children:(0,t.jsx)("div",{className:"w-full max-w-md",children:(()=>{switch(O[h].id){case"welcome":return(0,t.jsx)(g,{handleNext:z});case"kyc":return(0,t.jsx)(y,{handleNext:z,kycData:D,setKycData:F,phone:S});case"phone":return(0,t.jsx)(v,{handleNext:z,phone:S,setPhone:A,otp:E,setOtp:P,isOtpSent:R,setIsOtpSent:$,kycData:D});case"goal":return(0,t.jsx)(I,{handleNext:z,goal:p,setGoal:f,targetAmount:b,setTargetAmount:j,showGoalSuccess:N,setShowGoalSuccess:w,handleGoalSubmit:U,handleGoalSuccessContinue:X});case"option":return(0,t.jsx)(T,{handleNext:z,riskProfile:_,setRiskProfile:M,currentStep:h,stepsLength:O.length});default:return null}})()})})]})}e.s(["default",()=>P],23143)}]);